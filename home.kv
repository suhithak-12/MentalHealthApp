<HomeScreen>:
    name: "home"

    MDBoxLayout:
        md_bg_color: 231/255, 231/255, 231/255, 1
        orientation: "horizontal"

        

        # Main Content (Left Side)
        MDBoxLayout:
            orientation: "vertical"
            padding: "20dp"
            
            MDLabel:
                text: " Welcome!"
                font_style: "H1"
                font_name: "kr"
                halign: "left"
                size_hint_y: None
                height: self.texture_size[1]  # Adjust height to fit text
                pos_hint: {"top": 1}  # Push to the top

    

            MDCard:
                size_hint: None, None
                size: "210dp", "100dp"
                radius: [25]  # Rounded corners for the card
                padding: 5

                FloatLayout:
                    orientation: 'vertical'
                    padding: 10
                    spacing: 2 

                    MDLabel:
                        text: "Animal Health Bar"
                        theme_text_color: "Secondary"
                        font_style: "H1"
                        font_name: "kr"
                        font_size: "32sp"
                        halign: "center"  # Center-align the text
                        pos_hint: {"center_x": 0.5, "center_y": 0.9}

                    MDProgressBar:
                        value: 60  # Progress bar showing 60% health
                        max: 100
                        size_hint_y: None  # To allow for fixed height
                        height: "10dp"  # Adjust height of the progress bar
                        pos_hint: {"center_x": 0.5, "center_y": 0.6}  # Center the progress bar horizontally
                        color: (0, 1, 0, 1)  # Green color for the progress bar


            MDBoxLayout:
                orientation: 'vertical'

                BoxLayout:
                    size_hint_y: None
                    height: dp(450)  # Adjust height to control positioning
                    width: dp(1000)
                    pos_hint: {"center_x": 0.45, "center_y": 0.7}  # Moves it up
                    AsyncImage:
                        source: "animations/neutralpenguin.gif"
                        anim_delay: 0.1
                        allow_stretch: True
                        keep_ratio: True
    # Right-side buttons in a vertical stack (Top-right corner)
    MDBoxLayout:
        orientation: "vertical"
        size_hint: None, None
        size: "200dp", "150dp"  # Adjust the width and height to match button sizes
        pos_hint: {"right": 1, "top": 0.90}  # Position at top-right corner
        spacing: "20dp"

        MDFlatButton:
            text: "Happy"
            font_name: "kr"
            font_size: "40sp"
            size_hint: None, None
            size: "150dp", "50dp"
            pos_hint: {"center_x": 0.75, "top":90}
            text_color: 1, 1, 1, 1  # White text

            canvas.before:
                Color:
                    rgba: 221/255, 133/255, 111/255, 1  # Custom color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [23]  # Rounded edges

            on_release: root.show_happy_popup()
            
        MDFlatButton:
            text: "Interact"
            font_name: "kr"
            font_size: "38sp"
            size_hint: None, None
            size: "150dp", "50dp"
            pos_hint: {"center_x": 0.75, "top":70}
            text_color: 1, 1, 1, 1  # White text

            canvas.before:
                Color:
                    rgba: 221/255, 133/255, 111/255, 1  # Custom color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [23]  # Rounded edges
            on_release: app.root.current = "petInteract"

        MDFlatButton:
            text: "Resources"
            font_name: "kr"
            font_size: "38sp"
            size_hint: None, None
            size: "150dp", "50dp"
            pos_hint: {"center_x": 0.75, "top":0.6}
            text_color: 1, 1, 1, 1  # White text

            canvas.before:
                Color:
                    rgba: 221/255, 133/255, 111/255, 1  # Custom color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [23]  # Rounded edges
            on_release: app.root.current = "resources"